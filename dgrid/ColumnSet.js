//>>built
define("dgrid/ColumnSet","dojo/_base/kernel,dojo/_base/declare,dojo/_base/Deferred,dojo/on,dojo/aspect,dojo/query,dojo/has,put-selector/put,xstyle/has-class,./Grid,dojo/_base/sniff,xstyle/css!./css/columnset.css".split(","),function(q,r,s,m,n,l,k,f,t,u){function o(a,d){var b=a._columnSetScrollers,c=a._columnSetScrollerContents,e=a.columnSets,g=0,f=0,h,i;for(h=0,e=e.length;h<e;h++)g+=f,i=l('.dgrid-column-set[colsetid="'+h+'"]',d)[0],f=i.offsetWidth,i=i.firstChild.offsetWidth,c[h].style.width=i+"px",
b[h].style.width=f+"px",b[h].style.overflowX=i>f?"scroll":"auto",b[h].style.left=g+"px"}function v(a,d){function b(){l(".dgrid-column-set",d).forEach(function(a){a.scrollLeft=c[a.getAttribute("colsetid")]})}var c=a._columnSetScrollLefts;8>k("ie")||k("quirks")?setTimeout(b,1):b()}t("safari","ie-7");return r([u],{columnSets:[],createRowCells:function(a,d){for(var b=f("table.dgrid-row-table"),c=f(b,"tbody tr"),e=0,g=this.columnSets.length;e<g;e++)f(c,a+".dgrid-column-set-cell.dgrid-column-set-"+e+" div.dgrid-column-set[colsetid="+
e+"]").appendChild(this.inherited(arguments,[a,d,this.columnSets[e]]));return b},renderArray:function(){var a=this,d=this.inherited(arguments);s.when(d,function(b){for(var c=0;c<b.length;c++)v(a,b[c])});return d},renderHeader:function(){function a(){var a=this.scrollLeft,b=this.getAttribute("colsetid");h[b]!=a&&(h[b]=a,l('.dgrid-column-set[colsetid="'+b+'"],.dgrid-column-set-scroller[colsetid="'+b+'"]',e).forEach(function(b){b.scrollLeft=a}))}function d(b,c){var d=g[c]=f(e,"div.dgrid-column-set-scroller.dgrid-scrollbar-height.dgrid-column-set-scroller-"+
c+"[colsetid="+c+"]");k[c]=f(d,"div.dgrid-column-set-scroller-content");m(d,"scroll",a)}function b(){o(i,e)}this.inherited(arguments);this.bodyNode.style.bottom="17px";var c=this.columnSets,e=this.domNode,g=this._columnSetScrollers,k=this._columnSetScrollerContents={},h=this._columnSetScrollLefts={},i=this,j,p;if(g)for(j in g)f("!",g[j]);else n.after(this,"resize",b),m(e,".dgrid-column-set:dgrid-cellfocusin",a),n.after(this,"styleColumn",b);g=this._columnSetScrollers={};for(j=0,p=c.length;j<p;j++)d(c[j],
j);o(this,e)},configStructure:function(){this.columns={};for(var a=0,d=this.columnSets.length;a<d;a++)for(var b=this.columnSets[a],c=0;c<b.length;c++)b[c]=this._configColumns(a+"-"+c+"-",b[c])},_setColumnSets:function(a){this._destroyColumns();this.columnSets=a;this._updateColumns()},setColumnSets:function(a){q.deprecated("setColumnSets(...)",'use set("columnSets", ...) instead',"dgrid 1.0");this.set("columnSets",a)}})});